<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2025-01-24 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20250124" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Ninja - full stack web framework for Java - </title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<meta name="description" content="Ninja is a full stack web framework for Java.                     Rock solid, fast and super productive."/>
                      
        
<link rel="icon" href="favicon.png" type="image/png"/>
                      
        
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Titillium+Web" type="text/css"/>
                      
        
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata" type="text/css"/>
                      
        
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" type="text/css"/>
                      
        
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-38154034-1']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
          
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/ninjaframework/ninja">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../.." id="bannerLeft" title="Ninja web framework">
                                                                                                <img src="../../ninja_logo.png"  alt="Ninja web framework"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
            
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-01-24</li>
              <li id="projectVersion" class="pull-right">
                    Version: 5.8.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="../../introduction.html" title="The problem we solve">
          <i class="none"></i>
        The problem we solve</a>
            </li>
                
      <li>
  
                          <a href="../../high_level_overview.html" title="Ninja - high level overview">
          <i class="none"></i>
        Ninja - high level overview</a>
            </li>
                
      <li>
  
                          <a href="../../team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Commercial support</li>
                              
      <li>
  
                          <a href="../../commercial_support/philosophy.html" title="Philosophy">
          <i class="none"></i>
        Philosophy</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/training.html" title="Training">
          <i class="none"></i>
        Training</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/support_plans.html" title="Support plans">
          <i class="none"></i>
        Support plans</a>
            </li>
                
      <li>
  
                          <a href="../../commercial_support/agile_custom_development.html" title="Custom development">
          <i class="none"></i>
        Custom development</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                    
      <li>
  
                          <a href="../../documentation/getting_started/installing_ninja.html" title="Getting Started">
          <i class="icon-chevron-right"></i>
        Getting Started</a>
                  </li>
                                                                                                                                                                                                                                              
      <li>
  
                          <a href="../../documentation/basic_concepts/basic_concepts.html" title="Basic concepts">
          <i class="icon-chevron-down"></i>
        Basic concepts</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/super_dev_mode.html" title="SuperDevMode">
          <i class="none"></i>
        SuperDevMode</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/routing.html" title="Routing">
          <i class="none"></i>
        Routing</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/controllers.html" title="Controllers">
          <i class="none"></i>
        Controllers</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/filters.html" title="Filters">
          <i class="none"></i>
        Filters</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/argument_extractors.html" title="Argument extractors">
          <i class="none"></i>
        Argument extractors</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>Dependency injection</a>
          </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/sessions.html" title="Sessions">
          <i class="none"></i>
        Sessions</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/flash_scope.html" title="Flash scope">
          <i class="none"></i>
        Flash scope</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/error_handling.html" title="Error handling">
          <i class="none"></i>
        Error handling</a>
            </li>
                    
      <li>
  
                          <a href="../../documentation/basic_concepts/metrics.html" title="Metrics">
          <i class="none"></i>
        Metrics</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="../../documentation/configuration_and_modes.html" title="Configuration and modes">
          <i class="none"></i>
        Configuration and modes</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../documentation/html_templating/getting_started.html" title="HTML templating">
          <i class="icon-chevron-right"></i>
        HTML templating</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/working_with_json_jsonp.html" title="Working with JSON / JSONP">
          <i class="none"></i>
        Working with JSON / JSONP</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/working_with_xml.html" title="Working with XML">
          <i class="none"></i>
        Working with XML</a>
            </li>
                              <li class="nav-header">Advanced topics</li>
                              
      <li>
  
                          <a href="../../documentation/validation.html" title="Validation">
          <i class="none"></i>
        Validation</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/content_negotiation.html" title="Content negotiation">
          <i class="none"></i>
        Content negotiation</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/uploading_files.html" title="Uploading files">
          <i class="none"></i>
        Uploading files</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/scheduler.html" title="Scheduler">
          <i class="none"></i>
        Scheduler</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/lifecycle.html" title="Lifecycle">
          <i class="none"></i>
        Lifecycle</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../documentation/working_with_relational_dbs/jpa.html" title="Working with relational DBs">
          <i class="icon-chevron-right"></i>
        Working with relational DBs</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/using_the_cache.html" title="Using the cache">
          <i class="none"></i>
        Using the cache</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/internationalization.html" title="Internationalization">
          <i class="none"></i>
        Internationalization</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/static_assets.html" title="Static assets">
          <i class="none"></i>
        Static assets</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/sending_mail.html" title="Sending mail">
          <i class="none"></i>
        Sending mail</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/custom_routing.html" title="Custom routing">
          <i class="none"></i>
        Custom routing</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/servlet_bridge.html" title="Servlet bridge">
          <i class="none"></i>
        Servlet bridge</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../documentation/testing_your_application/getting_started.html" title="Testing">
          <i class="icon-chevron-right"></i>
        Testing</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/debugging.html" title="Debugging">
          <i class="none"></i>
        Debugging</a>
            </li>
                
      <li>
  
                          <a href="../../documentation/security/getting_started.html" title="Security">
          <i class="none"></i>
        Security</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../documentation/deployment/getting_started.html" title="Deployment">
          <i class="icon-chevron-right"></i>
        Deployment</a>
                  </li>
                
      <li>
  
                          <a href="../../documentation/upgrade_guide.html" title="Upgrade guide">
          <i class="none"></i>
        Upgrade guide</a>
            </li>
                
      <li>
  
                          <a href="../../apidocs/index.html" title="API docs (JavaDoc)">
          <i class="none"></i>
        API docs (JavaDoc)</a>
            </li>
                              <li class="nav-header">Ninja Modules</li>
                              
      <li>
  
                          <a href="../../documentation/modules.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                              <li class="nav-header">Great community</li>
                              
      <li>
  
                          <a href="https://twitter.com/ninjaframework" class="externalLink" title="@ninjaframework">
          <i class="none"></i>
        @ninjaframework</a>
            </li>
                
      <li>
  
                          <a href="https://groups.google.com/d/forum/ninja-framework" class="externalLink" title="Mailing list">
          <i class="none"></i>
        Mailing list</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ninjaframework/ninja" class="externalLink" title="Source code">
          <i class="none"></i>
        Source code</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ninjaframework/ninja/issues" class="externalLink" title="Bug tracker">
          <i class="none"></i>
        Bug tracker</a>
            </li>
                
      <li>
  
                          <a href="../../security.html" title="Security issues">
          <i class="none"></i>
        Security issues</a>
            </li>
                              <li class="nav-header">For developers</li>
                              
      <li>
  
                          <a href="../../developer/changelog.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                
      <li>
  
                          <a href="../../developer/roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                
      <li>
  
                          <a href="../../developer/getting_started.html" title="How to contribute">
          <i class="none"></i>
        How to contribute</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://www.ninjaframework.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://www.ninjaframework.org/ninja-core" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/ninjaframework" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ninjaframework</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Dependency injection</h1><h2>Introduction</h2><p>In regular code you usually would use a lot of <code>new MyObject(&hellip;)</code> statements. But
that is usually bad because you don&rsquo;t have any outside control of the instances.
And this makes the code hard to test. It also makes it hard
to give the MyObject different behaviors - let&rsquo;s say for testing and in production.</p><p>You can of course use the factory pattern. But there, too, you find a strong
coupling between the factory and the produced instances.</p><p>Dependency injection is in fact a factory pattern on steroids. There are different
implementations of the dependency injection pattern available, but Ninja uses
Google&rsquo;s Guice for dependency injection. </p><p>The nice thing about Guice is the fact that there is one central point where
you can declare which interface should be implemented by what class. Whether
it is a Singleton or what Factory (aka Provider) should create that class.</p><h2>Guice in Ninja</h2><p>By convention Ninja will look for a Java file at <code>conf/Module.java</code>.
That module is a regular Guice module that will be automatically loaded when
your application starts up. This file is 100% pure Guice and you can use
all Guice goodies. If needed, the constructor of this module can take a
<code>NinjaProperties</code> object as argument, but it&rsquo;s not mandatory.</p><h2>An example</h2><p>A typical usecase it to have an interface that specifies certain methods and
glue these interface to implementations via Guice. Let&rsquo;s say we have an interface
that returns a message:</p>
<pre class="prettyprint">
public interface GreetingService {
    String hello();
}
</pre><p>and the following implementation:</p>
<pre class="prettyprint">
public class GreetingServiceImpl implements GreetingService {
    
    @Override
    public String hello() {
        return "hi!!!!";
    }

}
</pre><p>We can glue together interface and implementation via our
<code>conf/Module.java</code>:</p>
<pre class="prettyprint">
public class Module extends AbstractModule {

    @Override
    protected void configure() {       

        bind(GreetingService.class).to(GreetingServiceImpl.class);

    }

}
</pre><p>And if you want to use that GreetingService inside your application you can
simply use the <code>@Inject</code> annotation:</p>
<pre class="prettyprint">
public class ApplicationController {

    @Inject
    GreetingService greeter;

    public Result injection(Context context) {

        return Results.html().render("greeting", greeter.hello());

    }
}
</pre><p>That&rsquo;s all. No more <code>new</code> statements in your code! That way you only
deal with interfaces in your code and you get the ability to change the real
implementation. You can easily replace real service implementations with
mocked service implementations when developing your application. And it also
gives you the ability to run clean mocked tests using Mockito.</p><h2>Advanced configuration</h2><p>Ninja includes many default bindings in guice before your application module
<code>conf.Module</code> is called. These include bindings for base Ninja features like logging,
lifecycle support, scheduler support, etc. There are also bindings for &ldquo;classic&rdquo;
Ninja features such as freemarker templates, jackson json/xml support, cache,
postoffice, and JPA.</p><p>You can exclude Ninja&rsquo;s &ldquo;classic&rdquo; bindings by extending your <code>conf.Module</code>
from <code>ninja.conf.FrameworkModule</code> rather than <code>com.google.inject.AbstractModule</code>.
This instructs Ninja to not load <code>ninja.conf.NinjaClassicModule</code> by default.
You may find customizing <code>ninja.conf.NinjaClassicModule</code> useful in building the
exact set of features you&rsquo;d like, especially since it has a builder-syntax for
enabling/disabling of feature sets.</p>
<pre class="prettyprint">
package conf;

import ninja.conf.FrameworkModule;
import ninja.conf.NinjaClassicModule;
import ninja.utils.NinjaProperties;

public class Module extends FrameworkModule {

    private final NinjaProperties ninjaProperties;

    public Module(NinjaProperties ninjaProperties) {
        this.ninjaProperties = ninjaProperties;
    }
    
    @Override
    protected void configure() {
        // classic ninja stack but with no freemarker or xml
        install(new NinjaClassicModule(ninjaProperties)
            .freemarker(false)
            .xml(false)
        );
    }

}
</pre><h2>Conclusion</h2><p>Dependency injection is the key component to develop and maintain a clean and
large codebase in Java. Dependency injection is at the core of Ninja
and implemented via Google Guice. </p><p>The entry point for your application is the module
<code>conf/Module.java</code>.</p><p>Guice can do a lot more for you. Read more about the abilities here:
<a href="https://github.com/google/guice">https://github.com/google/guice</a> .</p>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2025
                        <a href="http://www.ninjaframework.org">ninjaframework</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
